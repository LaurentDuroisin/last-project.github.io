<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="/xsl/structure.xsl"?>
<page>
<menu>/autres/odfaeg/xml/menu.xml</menu>
<footer>/autres/odfaeg/xml/footer.xml</footer>
<title>ODFAEG</title>
<content>
<fr>
<html>
  <h1>Chapitre XV : Le son. </h1>
      Voici le dernier gros chapitre avant d'entamer les tutoriels illustratifs.<br/>
      qui seront des example de petits jeux opensource codé avec le moteur.<br/>
      <h2>Chargé un son avec ODFAEG.</h2>
          <p>
          Pour rappel, pour charger un son il y a deux manière de le faire, avec SFML il y a deux classes qui permettent de le faire : <br/>
          sf::SoundBuffer pour charger des effets sonores.<br/>
          sf::Music pour charger des musiques. (Toute la musique n'est pas chargée en une fois, mais, au fur et à mesure qu'elle est jouée)<br/>
          ODFAEG utilise deux classes mais différente des classes SFML pour jouer un son.<br/>
          La classe odfaeg::audio::Stream : Celle ci permet manipuler des flux audio.<br/>
          La classe player : cette classe permet de jouer un effet sonore ou bien une musique, ça dépend de ce que l'utilisateur <br/>
          lui passe comme flux sonore, ODFAEG utilise sont propre type de flux. (la classe odfaeg::audio::Stream)
          Il suffit de lui passer une instance de cette classe pour charger le son dans le player.<br/>
          Voici un example qui charge un effet sonore et le passe au player.<br/>
          <pre>
          SoundBufferManager&lt;&gt; sm;
          sm.fromFileWithAlias("sounds/walk_crop.wav", "step foot");
          Stream* stream = new Stream();
          stream->load(*sm.getResourceByAlias("step foot"));
          player.setAudioStream(stream);
          cache.addResourceManager(sm, "SoundManager");
          </pre>
          Pour charger une musique, vous devez utiliser la méthode openFromFile de la classe Stream.
          </p>
          
          <h2>Jouer un son.</h2>
            <p>
            La classe player contient plusieurs méthodes pour pouvoir jouer un son, le mettre en pause, ou encore, le stopper.<br/>
            Cette classe n'offre pas tellement de possibilité pour l'instant mais, ça sera rajouté pour la version future.<br/>
            Les méthodes actuelles sont : <br/>
            La méthode play pour joueur un son.<br/>
            La méthode pause pour mettre un son en pause.<br/>
            La méthode stop pour stopper un son.<br/>
            La méthode isPlaying pour savoir si un son est actuellement joué ou bien stoppé.<br/>
            </p>
            <p>
            Voici un example de code source qui montre comment lancé et arrêté un son.<br/>
            <pre>
                if (!player.isPlaying()) 
                  player.play();
            </pre>
            <pre>
            if (player.isPlaying())
               player.stop();
            </pre>
            </p>
            <h2>La spacialisation du son.</h2>
            <p>
                Comme le module audio de ODFAEG utilise SFML, il est également possible d'utiliser la spacialisation<br/>
                du sont en se servant des classes SFML prévue à cet effet, je ne détaillerai donc pas ce point là ici<br/>
            </p>
    </html>
    </fr>
  </content>
              
          
